doctype html
html(manifest='offline.appcache')  
  head
    title BlueRaster Template App
    meta(http-equiv='X-UA-Compatible' content='IE=Edge')
    meta(name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0")
    meta(name="apple-mobile-web-app-capable" content="yes")
    meta(name="apple-mobile-web-app-status-bar-style" content="black")
    link(type='text/css' rel='stylesheet' href="../app/css/app.css")
    //- Inline Critical CSS
    style(type='text/css').
      body {
        background-color:#000;
      }   
    script(type='text/javascript').
        var sCacheStatus = "Not supported";
        if (window.applicationCache) 
        {
          var oAppCache = window.applicationCache;
          oAppCache.onupdateready = function(e) {
           window.applicationCache.swapCache();
          }

          switch (oAppCache.status) 
          {
              case oAppCache.UNCACHED : 
                 sCacheStatus = "Not cached"; 
                 break;
              case oAppCache.IDLE : 
                 sCacheStatus = "Idle"; 
                 break;
              case oAppCache.CHECKING : 
                 sCacheStatus = "Checking"; 
                 break;
              case oAppCache.DOWNLOADING : 
                 sCacheStatus = "Downloading"; 
                 break;
              case oAppCache.UPDATEREADY : 
                 sCacheStatus = "Update ready"; 
                 break;
              case oAppCache.OBSOLETE : 
                 sCacheStatus = "Obsolete"; 
                 break;
              default : 
                sCacheStatus = "Unexpected Status ( " + 
                               oAppCache.status.toString() + ")";
                break;
           }
        }
        console.log(sCacheStatus);
        
    script(type='text/javascript' src='../app/main.js' async="async")
  body(class="tundra app")