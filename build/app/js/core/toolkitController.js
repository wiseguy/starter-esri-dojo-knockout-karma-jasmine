define(["dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/html","dojo/query","dojo/Deferred","dojo/dom-construct","dojo/_base/lang","dojo/io-query","core/config","dojo/hash","esri/request","dojo/ready","dojo/_base/array","esri/layers/ArcGISDynamicMapServiceLayer","esri/layers/FeatureLayer","esri/layers/GraphicsLayer","esri/map","esri/dijit/BasemapGallery","esri/dijit/Legend","dojo/hash","dojo/topic","esri/geometry/webMercatorUtils","dojo/sniff"],function(e,r,o,t,n,i,a,c,u,s,d,f,l,j,y,m,g,b,p,h,d,v,L,M){var T={};return T.addClass=function(e,r){o.add(e,r)},T.removeClass=function(e,r){o.remove(e,r)},T.registerFunctionWhenDomReady=function(e){l(e)},T.sniff=function(e){return M(e)},T.setNodeHtml=function(e,r){return t.set(e,r)},T.setNodeAttr=function(e,o,t){return r.set(e,o,t)},T.parseDojo=function(){require(["dojox/mobile/parser","dijit/TitlePane","dijit/layout/ContentPane","dijit/form/Button"],function(e){e.parse()})},T.getNodeById=function(r){return e.byId(r)},T.getNodeList=function(e){return n(e)},T.getHash=function(){return d},T.arrayMap=function(e,r){var o=j.map(e,r);return o},T.arrayEach=function(e,r){j.forEach(e,r)},T.arraySome=function(e,r){var o=j.some(e,r);return o},T.arrayIndex=function(e,r){return j.indexOf(e,r)},T.clone=function(e){return c.clone(e)},T.convertWM=function(e,r){var o;switch(r){case"wm":o=L.webMercatorToGeographic(e);break;case"ll":o=L.geographicToWebMercator(e)}return o},T.getLayerConstructor=function(e){var r;switch(e){case"dynamic":r=y;break;case"graphic":r=g;break;case"feature":r=m}return r},T.loadPartial=function(e){console.log("loading the partial "+e);var r=new i;return require(["dojo/text!"+e],function(e){r.resolve(e)}),r},T.injectHtml=function(e,r,o){console.log("insert HTML for "+e),n(e).forEach(function(e){a.place(r,e,o)})},T.createDom=function(e,r,o){return a.create(e,r,o)},T.stringToObject=function(e){return u.queryToObject(e)},T.objectToQuery=function(e){return u.objectToQuery(e)},T.topicSubscribe=function(e,r){v.subscribe(e,r)},T.mixin=function(e,r){return c.mixin(e,r)},T.getMapClass=function(){return b},T.getBasemapDijit=function(){return p},T.getLegendDijit=function(){return h},T});